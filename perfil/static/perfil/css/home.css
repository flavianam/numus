:root {
    --primary-color: #064E3B;
    --primary-color-hover: #0C805F;
    --secondary-color: #10B981;
    --secondary-color-hover: #7ED4BD;
    --terciary-color: #5D0D79;
    --terciary-color-hover: #8F34C2;
    --fundo-tela: #D9DCDF;
    --fundo-blocos: rgba(250,250,250,0.8);
    --blocos: #10B981;
    --blocos-hover: #4a9a94;
    --fonte-preta: black;
    --fonte-branca: white;
    --font-numus: 'Abhaya Libre ExtraBold', serif;
    --font-primary: 'Inter', sans-serif;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-primary);
    background-color: var(--fundo-tela);
}

/* MENU LATERAL */
.sidebar {
    background: var(--primary-color);
    width: 125px;
    height: 100vh;
    position: fixed;
    left: 0;
    top: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 20px;
    gap: 40px;
}

.sidebar-icon {
    width: 56px;
    height: 56px;
    background: #0b5a45;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--fonte-branca);
    cursor: pointer;
    transition: all 0.18s ease-in-out;
    text-decoration: none;
}

.sidebar-icon:hover {
    background: #0f7a60;
    transform: translateY(-3px);
}

.sidebar-icon img {
    width: 24px;
    height: 24px;
    object-fit: contain;
    display: block;
}


#userAvatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}

/* MAIN */
.main-content {
    margin-left: 125px;
    padding: 20px;
    min-height: 100vh;
}

.header {
    background: var(--fundo-blocos);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.header-title {
    font-size: 24px;
    font-weight: 700;
    color: var(--fonte-preta);
}

.logo img {
    width: 50px;
    height: 50px;
    object-fit: contain;
    display: block;
}

.greeting {
    background: var(--fundo-blocos);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.greeting h2 {
    font-size: 22px;
    font-weight: 700;
    color: var(--fonte-preta);
    margin-bottom: 5px;
}

.greeting p { color: var(--fonte-preta); font-size: 14px; }

.dashboard-grid { display: grid; gap: 20px; margin-bottom: 20px; align-items: stretch; }

.dashboard-grid-3 {
    grid-template-columns: repeat(3, 1fr);
    grid-auto-rows: 160px;
}

.dashboard-grid-3 > .card {
    height: 160px !important;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.dashboard-grid-2 {
    grid-template-columns: repeat(2, 1fr);
    grid-auto-rows: auto;
}

.dashboard-grid-2 > .card {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.card { background: var(--fundo-blocos); border-radius: 8px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }

.card-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:18px }
.card-title { font-weight:700; color:var(--fonte-preta); font-size:16px; margin-bottom:8px; font-family: var(--font-primary); }

.card-icon { font-size:28px }
.card-icon img { width: 32px; height: 32px; object-fit: contain; }

.card-amount { font-size:32px; font-weight:700; color:var(--fonte-preta) }

.btn-primary { background:var(--secondary-color); color:white; padding:8px 16px; border-radius:20px; border:none; cursor:pointer; font-size:12px; font-weight:600; transition:all .3s; text-decoration:none; display:block; text-align:center }
.btn-primary:hover { background:var(--secondary-color-hover); transform: translateY(-2px); color:white }

.expense-item { background: var(--blocos); color: var(--fonte-branca); padding:12px; margin-bottom:10px; border-radius:6px; display:flex; justify-content:space-between; align-items:center; cursor:pointer; transition:all .3s; text-decoration:none }
.expense-item:hover { background: var(--blocos-hover); transform: translateX(5px) }

.meta-item { background: var(--blocos); color: var(--fonte-branca); padding:12px; margin-bottom:10px; border-radius:6px; display:flex; justify-content:space-between; align-items:center; cursor:pointer; transition:all .3s; text-decoration:none }
.meta-item:hover { background: var(--blocos-hover); transform: translateX(5px) }
.meta-arrow { font-size:20px }

.bottom-grid { display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:20px }

.chart-container { background:white; padding:20px; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,0.1); margin-top:20px }
.chart-title { font-size:18px; font-weight:700; color:var(--fonte-preta); margin-bottom:20px }

.pie-legend { display:flex; gap:20px; margin-top:20px; flex-wrap:wrap }
.legend-item { display:flex; align-items:center; gap:8px; font-size:14px }
.legend-dot { width:12px; height:12px; border-radius:50% }

.lista-contas-main { display:flex; justify-content:space-between; align-items:center; padding:10px; border-radius:6px; background:transparent }
.contas { margin-top:8px }
.conta-icone { width:32px; height:32px; border-radius:50%; object-fit:cover }

/* Estilos melhorados para categorias */
#categoria-item-style, .lista-contas-main:has(.btn-delete-cat) {
    background: linear-gradient(135deg, #f5f7fa 0%, #e8eef5 100%);
    padding: 14px 16px;
    border-radius: 8px;
    border-left: 4px solid var(--secondary-color);
    margin-bottom: 12px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.lista-contas-main:has(.btn-delete-cat) strong {
    color: var(--fonte-preta);
    font-size: 16px;
    letter-spacing: 0.3px;
}

.lista-contas-main:has(.btn-delete-cat) .badge {
    background: var(--secondary-color);
    color: white;
    padding: 4px 8px;
    font-size: 11px;
    border-radius: 4px;
    margin-left: 8px;
}


.form-control, .form-select { width:100%; padding:10px; border-radius:6px; border:1px solid #d6d6d6; background:white; margin-bottom:16px; font-family: var(--font-primary); }
.botao-principal { background:var(--secondary-color); color:white; padding:10px 14px; border-radius:8px; border:none; font-weight:700 }

/* Global secondary button used across pages */
.botao-secundario {
    background: transparent;
    color: var(--primary-color);
    border: 1px solid #d0d0d0;
    padding: 10px 14px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    text-decoration: none;
}
.botao-secundario:hover { background: #f0f0f0 }

/* Buttons container for relatorios export buttons */
.export-buttons { display: flex; gap: 12px; align-items: center; margin-top: 24px; }
.export-buttons .botao-principal { margin-right: 0; }

label { display:block; margin-bottom:6px; color:var(--fonte-preta); font-family: var(--font-primary); font-size:14px }

.card + .card { margin-top: 28px }
.lista-contas-main { gap: 12px }

/* file input styled as button */
.file-input { display: none }
.file-button { display:inline-block; background:var(--secondary-color); color:white; padding:10px 14px; border-radius:8px; cursor:pointer; font-weight:700 }
.file-button:hover { background:var(--secondary-color-hover) }

/* Definir Planejamento: align forms and buttons */
.definir-planejamento-form, .categoria-row-form {
    display: flex;
    gap: 8px;
    align-items: center;
}

.definir-planejamento-form .form-control,
.categoria-row-form .form-control,
.definir-planejamento-form .form-select {
    height: 40px;
    padding: 8px 10px;
}

.definir-planejamento-form .botao-principal,
.categoria-row-form .botao-principal {
    height: 40px;
    padding: 0 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Ensure select uses same height */
.form-select { height: 40px; }

/* Action buttons column */
.action-buttons { display:flex; gap:8px; justify-content:center; align-items:center }
.action-buttons .botao-secundario { background: transparent; color: var(--primary-color); border: 1px solid #d0d0d0; padding:8px 12px; border-radius:6px }
.action-buttons .botao-secundario:hover { background:#f0f0f0 }

/* Botão Excluir: destaque em verde para melhor visibilidade */
.action-buttons .botao-excluir {
.action-buttons .botao-excluir {
    /* No visual overrides — inherit .botao-principal exactly. */
}
.action-buttons .botao-excluir:hover { background: var(--secondary-color-hover); }

/* Delete modal styles */
.delete-modal {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.4);
    z-index: 9999;
}
.delete-modal-box {
    background: var(--fundo-blocos);
    padding: 20px;
    border-radius: 8px;
    width: 420px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
}
.delete-modal-box h3 { margin-top:0 }

/* Table layout for definir planejamento */
.definir-planejamento-table { table-layout: fixed; }
.definir-planejamento-table th:nth-child(1), .definir-planejamento-table td:nth-child(1) { width: 25%; }
.definir-planejamento-table th:nth-child(2), .definir-planejamento-table td:nth-child(2) { width: 60%; }
.definir-planejamento-table th:nth-child(3), .definir-planejamento-table td:nth-child(3) { width: 15%; }
.definir-planejamento-table td { vertical-align: middle; }
.definir-planejamento-table td:first-child { text-align: left; display:flex; align-items:center; }
.definir-planejamento-table th { text-align: left; font-weight:700 }
.action-buttons { justify-content: center; }

/* ver_planejamento specific styles to match unified pages */
.categoria-item {
    background: var(--fundo-blocos);
    padding: 14px 16px;
    border-radius: 8px;
    margin-bottom: 12px;
}
.categoria-top { display:flex; justify-content:space-between; align-items:center; gap:12px }
.categoria-name { font-weight:700; text-transform: none; color: var(--fonte-preta); }
.categoria-values { display:flex; gap:18px; align-items:center; font-size:14px; color:var(--fonte-preta); }
.categoria-values strong { color: var(--fonte-preta); }
.categoria-progress { margin-top:10px; background: #e9ecef; height:12px; border-radius:8px; overflow:hidden }
.progress-bar-inner { height:100%; background: var(--secondary-color); border-radius:8px 0 0 8px }

/* Make sure the card containing list is visually lighter and aligned */
.main-content .card { padding: 18px; }

/* Make cards and progress bars span the available content width like definir_planejamento */
.main-content .container { max-width: 1100px; margin-left: auto; margin-right: auto; padding-left: 8px; padding-right: 8px; }
.main-content .card { width: 100%; max-width: 100%; padding: 28px; margin-bottom: 20px; }
.categoria-item { width: 100%; margin-bottom: 18px; }
.categoria-progress { width: 100%; }
.categoria-item, .categoria-progress, .progress-bar-inner { box-sizing: border-box; }
.categoria-item { display: block; }
.categoria-progress { display: block; }
.progress-bar-inner { display: block; max-width: 100%; }

/* Expand progress bar to span the full inner width of the card (cancel card padding) */
.categoria-progress {
    margin-left: -28px;
    margin-right: -28px;
    padding-left: 28px;
    padding-right: 28px;
}

@media (max-width:768px) {
    .sidebar { width: 80px }
    .main-content { margin-left: 80px; padding: 12px }
    .dashboard-grid { grid-template-columns: 1fr }
    .bottom-grid { grid-template-columns: 1fr }
    .header { padding: 12px; margin-bottom: 12px }
    .greeting { padding: 12px; margin-bottom: 12px }
    .header-title { font-size: 20px }
    .greeting h2 { font-size: 18px }
    .main-content .card { padding: 16px }
    .container { padding-left: 0; padding-right: 0 }
    .row { margin-right: -8px; margin-left: -8px }
    [class*="col-"] { padding-right: 8px; padding-left: 8px }
    .lista-contas-main { flex-direction: column; align-items: flex-start; gap: 10px }
    .lista-contas-main > div { width: 100%; flex-direction: column; align-items: flex-start }
    .categoria-top { flex-direction: column; align-items: flex-start; gap:8px }
    .categoria-values { width:100%; justify-content: space-between; flex-wrap: wrap }
    .form-control, .form-select { width: 100%; margin-bottom: 12px }
    .botao-principal { width: 100%; margin-bottom: 8px }
    .card-title { font-size: 14px }
    .card-amount { font-size: 24px }
    .card-icon img { width: 24px; height: 24px }
}

@media (max-width: 576px) {
    .sidebar { width: 70px }
    .sidebar-icon { width: 48px; height: 48px }
    .main-content { margin-left: 70px; padding: 8px }
    .header { padding: 10px; margin-bottom: 10px }
    .greeting { padding: 10px; margin-bottom: 10px }
    .header-title { font-size: 18px }
    .greeting h2 { font-size: 16px }
    .greeting p { font-size: 12px }
    .main-content .card { padding: 12px; margin-bottom: 12px }
    .row { margin-top: 10px }
    .col-md-6, .col-md-4, .col-md-5, .col-md-2, .col-md-3 { flex: 0 0 100%; max-width: 100%; padding: 4px }
    .form-control, .form-select { padding: 8px; margin-bottom: 10px; font-size: 14px }
    .botao-principal { padding: 8px 12px; font-size: 13px; width: 100% }
    .botao-secundario { padding: 6px 10px; font-size: 12px }
    .card-title { font-size: 13px }
    .card-amount { font-size: 20px }
    .card-header { flex-direction: column; align-items: flex-start; gap: 8px }
    .card-icon { font-size: 24px }
    .card-icon img { width: 20px; height: 20px }
    label { font-size: 12px; margin-bottom: 4px }
    .lista-contas-main { padding: 8px }
    .conta-icone { width: 28px; height: 28px }
    .small { font-size: 11px }
    .modal-dialog { margin: 10px }
    .modal-content { border-radius: 6px }
    .modal-header { padding: 12px }
    .modal-body { padding: 12px; font-size: 14px }
    .modal-footer { padding: 10px; gap: 6px }
    .btn { padding: 6px 12px; font-size: 12px }
}

@media (max-width: 1400px) { .dashboard-grid { grid-template-columns: 1fr 1fr } }

/* Dashboard canvas: ensure visible height so chart renders correctly */
#myChart { width: 100%; min-height: 350px; height: 350px; display: block; }

/* Force a light color scheme and ensure the app background stays light
   even if global/base CSS or the browser's dark mode tries to override it. */
html { color-scheme: light; }
body {
    background-color: var(--fundo-tela) !important;
    color: var(--fonte-preta) !important;
}

/* Ensure the main content area uses the light block background */
.main-content, .header, .card, .greeting, .delete-modal-box {
    background: var(--fundo-blocos) !important;
    color: var(--fonte-preta) !important;
}

/* Override any dark table/row backgrounds coming from extrato styles */
table, tr, td, th, .linha {
    background: transparent !important;
    color: var(--fonte-preta) !important;
}
